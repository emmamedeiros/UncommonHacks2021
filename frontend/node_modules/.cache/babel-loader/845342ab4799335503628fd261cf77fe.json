{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = resolveConfig;\n\nvar _mergeWith = _interopRequireDefault(require(\"lodash/mergeWith\"));\n\nvar _isFunction = _interopRequireDefault(require(\"lodash/isFunction\"));\n\nvar _defaults = _interopRequireDefault(require(\"lodash/defaults\"));\n\nvar _map = _interopRequireDefault(require(\"lodash/map\"));\n\nvar _toPath = _interopRequireDefault(require(\"lodash/toPath\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nconst configUtils = {\n  negative(scale) {\n    return Object.keys(scale).filter(key => scale[key] !== '0').reduce((negativeScale, key) => ({ ...negativeScale,\n      [\"-\".concat(key)]: \"-\".concat(scale[key])\n    }), {});\n  }\n\n};\n\nfunction value(valueToResolve, ...args) {\n  return (0, _isFunction.default)(valueToResolve) ? valueToResolve(...args) : valueToResolve;\n}\n\nfunction mergeExtensions({\n  extend,\n  ...theme\n}) {\n  return (0, _mergeWith.default)(theme, extend, (themeValue, extensions) => {\n    if (!(0, _isFunction.default)(themeValue) && !(0, _isFunction.default)(extensions)) {\n      return { ...themeValue,\n        ...extensions\n      };\n    }\n\n    return (resolveThemePath, utils) => ({ ...value(themeValue, resolveThemePath, utils),\n      ...value(extensions, resolveThemePath, utils)\n    });\n  });\n}\n\nfunction resolveFunctionKeys(object) {\n  const resolveThemePath = (key, defaultValue) => {\n    const path = (0, _toPath.default)(key);\n    let index = 0;\n    let val = object;\n\n    while (val !== undefined && val !== null && index < path.length) {\n      val = val[path[index++]];\n      val = (0, _isFunction.default)(val) ? val(resolveThemePath) : val;\n    }\n\n    return val === undefined ? defaultValue : val;\n  };\n\n  return Object.keys(object).reduce((resolved, key) => {\n    return { ...resolved,\n      [key]: (0, _isFunction.default)(object[key]) ? object[key](resolveThemePath, configUtils) : object[key]\n    };\n  }, {});\n}\n\nfunction resolveConfig(configs) {\n  return (0, _defaults.default)({\n    theme: resolveFunctionKeys(mergeExtensions((0, _defaults.default)({}, ...(0, _map.default)(configs, 'theme')))),\n    variants: (firstVariants => {\n      return Array.isArray(firstVariants) ? firstVariants : (0, _defaults.default)({}, ...(0, _map.default)(configs, 'variants'));\n    })((0, _defaults.default)({}, ...(0, _map.default)(configs)).variants)\n  }, ...configs);\n}","map":null,"metadata":{},"sourceType":"script"}