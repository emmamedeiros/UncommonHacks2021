{"ast":null,"code":"var _jsxFileName = \"/home/apsap/projects/UncommonHacks2021/frontend/src/pages/Homepage.js\";\nimport _tailwindUtils from \"tailwind.macro/utils.umd.js\";\nimport _tailwindConfig2 from \"./../tailwind.js\";\n\nconst _tailwindConfig = _tailwindUtils.resolveConfig(_tailwindConfig2);\n\n/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useState, useEffect } from \"react\";\nimport styled from \"@emotion/styled\";\nimport axios from \"axios\";\nimport Layout from \"../components/Layout/Layout\";\nimport { Title, SectionHeader, BodyText } from \"../components/Typography/Typography\";\nimport Artwork from \"../components/Artwork/Artwork\";\nimport spyglass from \"./search.svg\";\nimport Button from \"../components/Button/Button\";\n\nconst Homepage = () => {\n  const initialArtworks = [];\n  const initialSearch = {\n    query: \"computers\"\n  };\n  const [artworks, setartworks] = useState(initialArtworks);\n  const [search, setsearch] = useState(initialSearch);\n\n  const makeSearchQuery = term => `https://api.artic.edu/api/v1/artworks/search?q=${term}&limit=30&fields=id,title,image_id,date_end,artist_display,place_of_origin`;\n\n  const makePreviewImgSrc = imgId => `https://www.artic.edu/iiif/2/${imgId}/full/843,/0/default.jpg`;\n\n  function cutString(s, n) {\n    let cut = s.indexOf(' ', n);\n    if (cut === -1) return s;\n    return s.substring(0, cut);\n  }\n\n  function sanitize(res) {\n    var _res$data, _res$data$data;\n\n    return (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$data = _res$data.data) === null || _res$data$data === void 0 ? void 0 : _res$data$data.map(artwork => ({\n      img_url: makePreviewImgSrc(artwork.image_id),\n      title: cutString(artwork.title, 20),\n      origin: cutString(artwork.place_of_origin, 20),\n      date: artwork.date_end,\n      artist: cutString(artwork.artist_display, 20)\n    }));\n  }\n\n  function simpleSearch(query) {\n    axios.get(makeSearchQuery(\"computer\")).then(res => setartworks(sanitize(res))).catch(e => console.log(e));\n  } // Init: search computers\n\n\n  useEffect(() => simpleSearch(\"computer\"), []);\n  return jsx(\"div\", {\n    css: Object.assign(_tailwindUtils.resolveStyle(_tailwindConfig, [{\n      \"prop\": \"backgroundColor\",\n      \"config\": \"backgroundColor\"\n    }, {\n      \"prop\": \"backgroundSize\",\n      \"config\": \"backgroundSize\"\n    }, {\n      \"prop\": \"backgroundPosition\",\n      \"config\": \"backgroundPosition\"\n    }], \"white\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, jsx(Layout, {\n    css: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, jsx(Title, {\n    css: Object.assign(_tailwindUtils.resolveStyle(_tailwindConfig, [{\n      \"prop\": \"color\",\n      \"config\": \"textColor\"\n    }, {\n      \"prop\": \"fontSize\",\n      \"config\": \"fontSize\"\n    }], \"blue\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Show me\"), jsx(\"form\", {\n    css: Object.assign(_tailwindUtils.resolveStyle(_tailwindConfig, [{\n      \"prop\": \"backgroundColor\",\n      \"config\": \"backgroundColor\"\n    }, {\n      \"prop\": \"backgroundSize\",\n      \"config\": \"backgroundSize\"\n    }, {\n      \"prop\": \"backgroundPosition\",\n      \"config\": \"backgroundPosition\"\n    }], \"black\"), {\n      \"padding\": _tailwindConfig.theme.padding[\"2\"]\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, jsx(\"img\", {\n    src: spyglass,\n    alt: \"Search, you fool!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), jsx(\"input\", {\n    type: \"text\",\n    name: \"searchbar\",\n    value: search.query,\n    placeholder: \"some art\",\n    onChange: e => setsearch({ ...search,\n      query: e.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), jsx(Button, {\n    onClick: e => e.preventDefault,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  })), jsx(\"hr\", {\n    css: Object.assign(_tailwindUtils.resolveStyle(_tailwindConfig, [{\n      \"prop\": \"borderWidth\",\n      \"config\": \"borderWidth\"\n    }, {\n      \"prop\": \"borderColor\",\n      \"config\": \"borderColor\"\n    }], \"default\"), _tailwindUtils.resolveStyle(_tailwindConfig, [{\n      \"prop\": \"borderWidth\",\n      \"config\": \"borderWidth\"\n    }, {\n      \"prop\": \"borderColor\",\n      \"config\": \"borderColor\"\n    }], \"shadow\"), {\n      \"marginBottom\": _tailwindConfig.theme.margin[\"4\"]\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), jsx(\"div\", {\n    css: css`\n                display: grid;\n                grid-auto-flow: row;\n                gap: 2rem;\n                grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr))\n            `,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, artworks.map((artwork, key) => jsx(Artwork, {\n    artwork: artwork,\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 46\n    }\n  }))), artworks.length === 0 ? jsx(\"h1\", {\n    css: Object.assign(_tailwindUtils.resolveStyle(_tailwindConfig, [{\n      \"prop\": \"fontWeight\",\n      \"config\": \"fontWeight\"\n    }, {\n      \"prop\": \"fontFamily\",\n      \"config\": \"fontFamily\"\n    }], \"display\"), _tailwindUtils.resolveStyle(_tailwindConfig, [{\n      \"prop\": \"color\",\n      \"config\": \"textColor\"\n    }, {\n      \"prop\": \"fontSize\",\n      \"config\": \"fontSize\"\n    }], \"blue\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, \"Be patient, art shall come\") : null));\n};\n\nexport default Homepage;","map":{"version":3,"sources":["/home/apsap/projects/UncommonHacks2021/frontend/src/pages/Homepage.js"],"names":["css","jsx","useState","useEffect","styled","axios","Layout","Title","SectionHeader","BodyText","Artwork","Button","Homepage","initialArtworks","initialSearch","query","artworks","setartworks","search","setsearch","makeSearchQuery","term","makePreviewImgSrc","imgId","cutString","s","n","cut","indexOf","substring","sanitize","res","data","map","artwork","img_url","image_id","title","origin","place_of_origin","date","date_end","artist","artist_display","simpleSearch","get","then","catch","e","console","log","_tailwindUtils","resolveStyle","_tailwindConfig","theme","padding","spyglass","value","preventDefault","margin","key","length"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\"\nimport { useState, useEffect } from \"react\"\nimport styled from \"@emotion/styled\";\nimport axios from \"axios\";\nimport tw from \"tailwind.macro\";\n\nimport Layout from \"../components/Layout/Layout\"\nimport { Title, SectionHeader, BodyText } from \"../components/Typography/Typography\"\nimport Artwork from \"../components/Artwork/Artwork\"\n\nimport spyglass from './search.svg'\nimport Button from \"../components/Button/Button\"\n\nconst Homepage = () => {\n    const initialArtworks = [];\n    const initialSearch = {\n        query: \"computers\"\n    }\n\n    const [artworks, setartworks] = useState(initialArtworks);\n    const [search, setsearch] = useState(initialSearch);\n\n    const makeSearchQuery = term => `https://api.artic.edu/api/v1/artworks/search?q=${term}&limit=30&fields=id,title,image_id,date_end,artist_display,place_of_origin`\n    const makePreviewImgSrc = imgId => `https://www.artic.edu/iiif/2/${imgId}/full/843,/0/default.jpg`\n\n    function cutString(s, n) {\n        let cut= s.indexOf(' ', n);\n        if (cut === -1) return s;\n        return s.substring(0, cut)\n    }\n\n    function sanitize(res) {\n        return(res.data?.data?.map((artwork) => ({\n            img_url: makePreviewImgSrc(artwork.image_id),\n            title: cutString(artwork.title, 20),\n            origin: cutString(artwork.place_of_origin, 20),\n            date: artwork.date_end,\n            artist: cutString(artwork.artist_display, 20)\n        })))\n    }\n\n    function simpleSearch(query) {\n        axios.get(makeSearchQuery(\"computer\")).then(\n            (res) => setartworks(sanitize(res))\n        ).catch(e => console.log(e))\n    }\n    \n    // Init: search computers\n    useEffect(() => simpleSearch(\"computer\"), [])\n\n    return(\n        <div css={tw`bg-white`}>\n        <Layout css={tw``}>\n            <Title css={tw`text-blue`}>Show me</Title>\n            <form css={tw`bg-black p-2`}>\n                <img src={spyglass} alt=\"Search, you fool!\"></img>\n                <input type=\"text\" name=\"searchbar\" value={search.query} placeholder=\"some art\" onChange={(e) => setsearch({...search, query: e.value})}/>\n                <Button onClick={(e) => (e.preventDefault)} />\n            </form>\n            <hr css={tw`border border-shadow mb-4`}/>\n            <div css={css`\n                display: grid;\n                grid-auto-flow: row;\n                gap: 2rem;\n                grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr))\n            `}>\n            { artworks.map((artwork, key) => <Artwork artwork={artwork} key={key}/>)}\n            </div>\n            { artworks.length === 0 \n            ? <h1 css={tw`font-display text-blue`}>Be patient, art shall come</h1>\n            : null\n            }\n        </Layout>\n        </div>\n    )\n}\n\nexport default Homepage"]},"metadata":{},"sourceType":"module"}